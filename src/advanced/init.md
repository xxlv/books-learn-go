# Init方法

# Go的init函数和自动加载

在Go语言中，`init`函数是一种特殊的函数，用于在程序运行时执行一些初始化操作。此外，Go还提供了一些自动加载的机制，确保在包导入时执行必要的初始化代码。

## init函数的基本使用

`init`函数是在包被导入时自动执行的函数。每个包可以包含一个或多个`init`函数，它们按照文件中的顺序依次执行。`init`函数的声明形式如下：

```go
func init() {
    // 初始化代码
}
```

这些函数通常用于执行一些全局的初始化任务，例如设置全局变量、打开数据库连接等。

## init函数的执行顺序

在一个包中，有多个文件可能包含`init`函数。这些函数的执行顺序是由文件导入顺序决定的。首先执行被导入包的`init`函数，然后按照导入顺序执行当前包的`init`函数。

## 自动加载的机制

Go语言会自动加载导入的包，并在程序启动时执行它们的`init`函数。这确保了在程序运行之前执行必要的初始化代码，使得整个程序能够正确地运行。

## 示例

以下是一个简单的例子，演示了`init`函数的基本用法：

```go
package main

import (
    "fmt"
)

func init() {
    fmt.Println("Initialization in the main package")
}

func main() {
    fmt.Println("Main function")
}
```

在这个例子中，程序运行时首先执行`init`函数，然后再执行`main`函数。

